<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>üìã Chapter 3: Connect your Project to an API | Vue Vixens Workshops</title>
    <meta name="description" content="Workshops preparados para ensinar desenvolvimento web e mobile com Vue.js para iniciantes">
    
    
    <link rel="preload" href="/docs/assets/css/styles.d3db7bc6.css" as="style"><link rel="preload" href="/docs/assets/js/app.d3db7bc6.js" as="script"><link rel="preload" href="/docs/assets/js/14.8ed1301d.js" as="script"><link rel="prefetch" href="/docs/assets/css/26.styles.3dd7acd6.css"><link rel="prefetch" href="/docs/assets/css/7.styles.1b4e6450.css"><link rel="prefetch" href="/docs/assets/js/1.c0a1f13a.js"><link rel="prefetch" href="/docs/assets/js/10.6b4cd686.js"><link rel="prefetch" href="/docs/assets/js/11.138c9a9c.js"><link rel="prefetch" href="/docs/assets/js/12.66209dca.js"><link rel="prefetch" href="/docs/assets/js/13.fb2c8053.js"><link rel="prefetch" href="/docs/assets/js/15.37c96ab4.js"><link rel="prefetch" href="/docs/assets/js/16.fb0b4103.js"><link rel="prefetch" href="/docs/assets/js/17.c1b7bbb0.js"><link rel="prefetch" href="/docs/assets/js/18.21a2e823.js"><link rel="prefetch" href="/docs/assets/js/19.103ff668.js"><link rel="prefetch" href="/docs/assets/js/2.106731d4.js"><link rel="prefetch" href="/docs/assets/js/20.d77fa14b.js"><link rel="prefetch" href="/docs/assets/js/21.a403bc71.js"><link rel="prefetch" href="/docs/assets/js/22.55395d5d.js"><link rel="prefetch" href="/docs/assets/js/23.5e4896f2.js"><link rel="prefetch" href="/docs/assets/js/24.059fc635.js"><link rel="prefetch" href="/docs/assets/js/25.ea5a6c79.js"><link rel="prefetch" href="/docs/assets/js/26.3dd7acd6.js"><link rel="prefetch" href="/docs/assets/js/27.857f1ae0.js"><link rel="prefetch" href="/docs/assets/js/28.dc90ca16.js"><link rel="prefetch" href="/docs/assets/js/29.29949648.js"><link rel="prefetch" href="/docs/assets/js/3.9e7db0d8.js"><link rel="prefetch" href="/docs/assets/js/30.4bf084dc.js"><link rel="prefetch" href="/docs/assets/js/31.d2734155.js"><link rel="prefetch" href="/docs/assets/js/32.581bd301.js"><link rel="prefetch" href="/docs/assets/js/4.ed48970e.js"><link rel="prefetch" href="/docs/assets/js/5.a75a5148.js"><link rel="prefetch" href="/docs/assets/js/6.aada1f9b.js"><link rel="prefetch" href="/docs/assets/js/7.1b4e6450.js"><link rel="prefetch" href="/docs/assets/js/8.b8442599.js"><link rel="prefetch" href="/docs/assets/js/9.8b154abd.js">
    <link rel="stylesheet" href="/docs/assets/css/26.styles.3dd7acd6.css"><link rel="stylesheet" href="/docs/assets/css/7.styles.1b4e6450.css"><link rel="stylesheet" href="/docs/assets/css/styles.d3db7bc6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/pt_br/" class="home-link router-link-active"><!----> <span class="site-name">Vue Vixens Workshops</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/pt_br/" class="nav-link">P√°gina Inicial</a></div><div class="nav-item"><a href="http://www.vuevixens.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Time
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/docs/pt_br/workshop/CODE_OF_CONDUCT.html" class="nav-link">C√≥digo de Conduta</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/workshop/ch3.html" class="nav-link">en-US</a></li><li class="dropdown-item"><!----> <a href="/docs/pt_br/workshop/ch3.html" class="nav-link router-link-exact-active router-link-active">pt-BR</a></li></ul></div></div> <a href="https://github.com/vuevixens/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/pt_br/" class="nav-link">P√°gina Inicial</a></div><div class="nav-item"><a href="http://www.vuevixens.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Time
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/docs/pt_br/workshop/CODE_OF_CONDUCT.html" class="nav-link">C√≥digo de Conduta</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/workshop/ch3.html" class="nav-link">en-US</a></li><li class="dropdown-item"><!----> <a href="/docs/pt_br/workshop/ch3.html" class="nav-link router-link-exact-active router-link-active">pt-BR</a></li></ul></div></div> <a href="https://github.com/vuevixens/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/pt_br/workshop/" class="sidebar-link">Sobre os Workshops Vue Vixens</a></li><li><a href="/docs/pt_br/workshop/ch1.html" class="sidebar-link">üê∂ Cap√≠tulo 1: Apresentando a &quot;My Pet Shop Web App&quot;</a></li><li><a href="/docs/pt_br/workshop/ch2.html" class="sidebar-link">üê∂ Cap√≠tulo 2: Construindo uma galeria de pets</a></li><li><a href="/docs/pt_br/workshop/ch3.html" class="active sidebar-link">üê∂ Cap√≠tulo 3: Conectando seu projeto a uma API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/pt_br/workshop/ch3.html#instrucoes" class="sidebar-link">Instru√ß√µes</a></li><li class="sidebar-sub-header"><a href="/docs/pt_br/workshop/ch3.html#adicionando-o-axios" class="sidebar-link">Adicionando o Axios</a></li><li class="sidebar-sub-header"><a href="/docs/pt_br/workshop/ch3.html#chamando-a-api" class="sidebar-link">Chamando a API</a></li><li class="sidebar-sub-header"><a href="/docs/pt_br/workshop/ch3.html#use-a-api-1-substitua-alguns-dos-dados-estaticos" class="sidebar-link">Use a API 1 - Substitua alguns dos dados est√°ticos</a></li><li class="sidebar-sub-header"><a href="/docs/pt_br/workshop/ch3.html#use-a-api-2-randomize-as-imagens" class="sidebar-link">Use a API 2 - Randomize as Imagens</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="üìã-chapter-3-connect-your-project-to-an-api"><a href="#üìã-chapter-3-connect-your-project-to-an-api" aria-hidden="true" class="header-anchor">#</a> üìã Chapter 3: Connect your Project to an API</h1> <table><thead><tr><th><strong>Objetivo do projeto</strong></th> <th>Aprender como uma API funciona e como usar em nosso projeto.</th></tr></thead> <tbody><tr><td><strong>O que voc√™ ir√° aprender</strong></td> <td>Usando a <a href="https://dog.ceo/dog-api/" target="_blank" rel="noopener noreferrer">DogCEO API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, voc√™ ir√° carregar imagens de c√£es dinamicamente, ao inv√©s de usar dados falsos.</td></tr> <tr><td><strong>Ferramentas que voc√™ ir√° usar</strong></td> <td>Um navegador moderno como o Google Chrome. Caso esteja usando o Chrome, instale a extens√£o Vue.js DevTools. Uma conta em CodeSandbox.io.</td></tr> <tr><td><strong>Tempo estimado</strong></td> <td>1 hora</td></tr></tbody></table> <h2 id="instrucoes"><a href="#instrucoes" aria-hidden="true" class="header-anchor">#</a> Instru√ß√µes</h2> <p>Se voc√™ precisar reiniciar seu projeto, clone <a href="https://github.com/VueVixens/projects/tree/master/chapter-1-end" target="_blank" rel="noopener noreferrer">este reposit√≥rio<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> no Code Sandbox ap√≥s efetuar o login.</p> <p>At√© agora, colocamos imagens de c√£es em nossas telas por meio de alguns dados JSON est√°ticos que importamos para um componente. Isso √© √≥timo para fins de demonstra√ß√£o, mas na vida real, voc√™ quase sempre criar√° aplicativos da Web que consomem dados reais provenientes de suas pr√≥prias fontes de dados, ou externamente, de algum lugar da Internet. Vamos aprender a consumir dados de terceiros.</p> <p>Para realizar chamadas de API, precisaremos de uma biblioteca chamada <a href="https://github.com/axios/axios" target="_blank" rel="noopener noreferrer">axios<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. √â um cliente HTTP baseado em <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer">Promises<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> que funciona no navegador e em um ambiente node.js.</p> <p>::: dica üí°
Originalmente, o Vue tinha sua pr√≥pria maneira de fazer chamadas API usando ajax mas esse recurso foi preterido, pois a biblioteca independente do Axios funcionou muito bem para esse prop√≥sito, eliminando a necessidade de uma solu√ß√£o integrada. Leia mais sobre esta decis√£o <a href="https://medium.com/the-vue-point/retiring-vue-resource-871a82880af4" target="_blank" rel="noopener noreferrer">aqui<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
:::</p> <h2 id="adicionando-o-axios"><a href="#adicionando-o-axios" aria-hidden="true" class="header-anchor">#</a> Adicionando o Axios</h2> <p>Primeiro, adicione a biblioteca do Axios √†s depend√™ncias do seu projeto. Para fazer isso no Code Sandbox, clique na aba <code>File Editor</code> -&gt; <code>Dependencies</code> -&gt; <code>Add Dependency</code> e procure por <code>axios</code></p> <p>Importe o Axios para o componente onde executaremos nossa chamada API - <code>views/Pets.vue</code>. No bloco de script desse componente, adicione esta linha:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>Todas as nossas chamadas usar√£o a mesma URL de base com diferentes endpoints. Logo abaixo da importa√ß√£o para os axios, adicione o URL base √†s op√ß√µes do Axios:</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">&quot;https://dog.ceo/api&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>Agora estamos prontos para fazer nossa primeira chamada de API.</p> <h2 id="chamando-a-api"><a href="#chamando-a-api" aria-hidden="true" class="header-anchor">#</a> Chamando a API</h2> <p>Vamos substituir a primeira imagem est√°tica pela imagem aleat√≥ria de Husky da API Dog CEO. Primeiro temos que verificar qual endpoint n√≥s temos que usar. Olhando para a documenta√ß√£o <a href="https://dog.ceo/dog-api/" target="_blank" rel="noopener noreferrer">da API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> podemos descobrir que precisamos acrescentar <code>/breed/husky/images/random</code> √† chamada da API (a parte <code>api</code> j√° est√° na nossa URL base).</p> <p>Queremos que uma nova imagem substitua a antiga corretamente quando o componente √© criado, ent√£o vamos adicionar um hook <code>created ()</code> logo ap√≥s <code>data</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">üí°</p> <p>Nota: Certifique-se de adicionar uma v√≠rgula ap√≥s o objeto de dados e, em seguida, adicione o <code>created ()</code>!</p></div> <div class="tip custom-block"><p class="custom-block-title">üí°</p> <p>Este √© o primeiro hook de lifecycle do nosso aplicativo! Estes s√£o muito √∫teis quando voc√™ quer um bom controle sobre quando executar blocos de c√≥digo. Leia mais <a href="https://vuejs.org/v2/guide/instance.html#Instance-Lifecycle-Hooks" target="_blank" rel="noopener noreferrer">aqui<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <p>Dentro do hook criado, adicionaremos nossa primeira consulta √† API. Para executar uma requisi√ß√£o GET, o Axios usa o m√©todo <code>axios.get</code>. O resultado ser√° uma promise de JavaScript, portanto, temos que fornecer retornos de sucesso e falha a ela. Por enquanto, vamos simplesmente imprimir o resultado da consulta no console. Edite <code>created () {}</code> colocando este trecho entre as chaves:</p> <div class="language-js extra-class"><pre class="language-js"><code>  axios
    <span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/breed/husky/images/random&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>error <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Na visualiza√ß√£o do navegador no Code Sandbox, v√° para a guia Pets. Voc√™ deve ver um objeto no seu console. D√™ uma olhada melhor clicando na seta √† esquerda. Estamos interessadas ‚Äã‚Äãem seu campo <code>data</code>. Voc√™ pode ver que temos um status <code>success</code> e uma mensagem com um URL de imagem (voc√™ pode copiar/colar no seu navegador e descobrir um Husky bonito).</p> <h2 id="use-a-api-1-substitua-alguns-dos-dados-estaticos"><a href="#use-a-api-1-substitua-alguns-dos-dados-estaticos" aria-hidden="true" class="header-anchor">#</a> Use a API 1 - Substitua alguns dos dados est√°ticos</h2> <p>Vamos substituir nossa imagem Husky por essa nova. Primeiro, devemos encontrar um Husky em nosso array de c√£es com um m√©todo <code>Array.find</code>. Ele ir√° verificar os itens do array <code>dogs</code> (que j√° estamos carregando no componente pelo arquivo de dados <code>data/dogs.js</code>) um por um para encontrar o primeiro item correspondente aos crit√©rios fornecidos. No nosso caso, o crit√©rio √© uma &quot;ra√ßa&quot; igual a &quot;husky&quot;. Substitua o <code>console.log ()</code> dentro do callback <code>then</code> na chamada do Axios que acabamos de implementar por esta string:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> husky <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dogs<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>dog <span class="token operator">=&gt;</span> dog<span class="token punctuation">.</span>breed <span class="token operator">===</span> <span class="token string">'husky'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>husky<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Ok, n√≥s encontramos um husky que voc√™ pode ver no <code>console.log ()</code>. Voc√™ tamb√©m pode v√™-lo na p√°gina &quot;Pets&quot; do seu aplicativo. Procure &quot;Max&quot;, listado como um husky. Agora vamos fornecer a ele uma nova imagem reatribuindo a URL da imagem dos dados est√°ticos pelos dados provenientes da API. Adicione esta linha abaixo do trecho que voc√™ acabou de adicionar.</p> <div class="language-js extra-class"><pre class="language-js"><code>husky<span class="token punctuation">.</span>img <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
</code></pre></div><p>Voc√™ deve ver a imagem mudar para uma imagem aleat√≥ria de um husky extra√≠da da API Dog CEO.</p> <h2 id="use-a-api-2-randomize-as-imagens"><a href="#use-a-api-2-randomize-as-imagens" aria-hidden="true" class="header-anchor">#</a> Use a API 2 - Randomize as Imagens</h2> <p>Vamos tentar carregar uma imagem aleat√≥ria para cada cachorro em nosso array <code>dogs</code>. A primeira coisa que precisamos √© de um endpoint adequado para cada ra√ßa que temos. Vamos criar um array de links usando o m√©todo <code>.map</code>.</p> <p>::: dica üí°
O m√©todo <code>.map()</code> cria um novo array com os resultados de uma fun√ß√£o, aplicada a cada elemento do array original.
:::</p> <p>Sobrescreva todo o c√≥digo no <code>Created ()</code> criando esta constante de linksArray:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> linksArray <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dogs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
   dog <span class="token operator">=&gt;</span> <span class="token string">&quot;/breed/&quot;</span> <span class="token operator">+</span> dog<span class="token punctuation">.</span>breed <span class="token operator">+</span> <span class="token string">&quot;/images/random&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Estamos pegando a ra√ßa de cada c√£o no array e inserindo-o dentro da string do endpoint que iremos chamar (usamos o mesmo anteriormente para o husky, mas <code>breed</code> foi usado como um valor est√°tico l√°).</p> <p>Neste ponto, temos que executar v√°rias chamadas de API usando todos os links que acabamos de criar - tantas chamadas de API quanto existem em nossos dados est√°ticos. O Axios tem uma fun√ß√£o auxiliar para este caso chamada <code>axios.all</code> e <code>axios.spread</code>. N√≥s forneceremos uma s√©rie de nossos pedidos para <code>axios.all</code>, que retornar√° uma matriz de respostas e devemos usar o <code>axios.spread</code> para &quot;espalhar&quot; este array em m√∫ltiplos argumentos. Para criar uma matriz de consultas, usaremos um m√©todo <code>.map</code> em nosso <code>linksArray</code>, executando <code>axios.get</code> para cada link. Adicione este snippet diretamente abaixo do snippet linksArray adicionado pouco antes.</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>linksArray<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>link <span class="token operator">=&gt;</span> axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
     axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">...</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>dogs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dog<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         dog<span class="token punctuation">.</span>img <span class="token operator">=</span> res<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">üí°</p> <p>O que esta acontecendo aqui? O m√©todo <code>forEach()</code> executa uma fun√ß√£o fornecida uma vez para cada elemento do array em linksArray. Basicamente, ele passa pelos dados est√°ticos e adiciona uma das imagem aleat√≥rias da API a <code>this.dogs</code>, assim que tivermos a resposta da nossa API. Ent√£o n√≥s estamos substituindo cada imagem de c√£o qe temos originalmente por uma nova correspondente da API (<code>index</code> √© o √≠ndice do elemento atual sendo processado no array, √© o mesmo para os dois arrays porque os objetos de resposta s√£o colocados na mesma ordem em que foram enviados).</p></div> <p>Agora temos novas imagens toda vez que nosso componente <code>Pets</code> √© criado (voc√™ pode ver as imagens mudarem na atualiza√ß√£o da p√°gina ou simplesmente mudando as abas de <code>pets</code> para <code>home</code> e vice-versa). Os nomes e ra√ßas dos c√£es ainda est√£o sendo extra√≠dos de dados est√°ticos, mas as imagens s√£o provenientes da API, combinadas com a ra√ßa do c√£o est√°tico.</p> <p>O √∫nico problema remanescente √© que ainda podemos ver as imagens antigas por um breve momento quando entramos na p√°gina Pets. Vamos limpar as imagens dos cachorros antes de realizarmos uma consulta. Adicione esta string como a primeira dentro do hook <code>created ()</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>dogs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>dog <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     dog<span class="token punctuation">.</span>img <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Agora, inicialmente, vemos retratos vazios de cachorros e, em seguida, as imagens s√£o carregadas a partir da API. Progresso!</strong></p> <h1 id="resultado-final"><a href="#resultado-final" aria-hidden="true" class="header-anchor">#</a> Resultado final</h1> <p><img src="/docs/assets/img/petshop_chapter3.f1a4212c.jpg" alt="chapter 3 result"></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/vuevixens/docs/edit/master/pt_br/workshop/ch3.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ‚Üê
        <a href="/docs/pt_br/workshop/ch2.html" class="prev">
          üê∂ Cap√≠tulo 2: Construindo uma galeria de pets
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/docs/assets/js/14.8ed1301d.js" defer></script><script src="/docs/assets/js/app.d3db7bc6.js" defer></script>
  </body>
</html>
